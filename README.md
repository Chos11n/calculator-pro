# 计算器 Pro+ 

一个功能完整、界面专业的iOS科学计算器应用，完全参考卡西欧fx-991CN CW设计，具有固定键盘布局、空白键功能和屏幕显示主菜单，使用SwiftUI开发。

## 功能特性

### 🏠 主屏幕功能
- **屏幕显示菜单**: 主菜单在LCD屏幕上显示，不在键盘上
- **默认计算模式**: 启动时默认进入计算模式
- **模式图标**: 屏幕顶部显示当前模式图标
- **数字键选择**: 在主屏幕中按数字键选择对应模式
- **10个功能模块**：
  - 计算、统计、函数表格
  - 方程、不等式、复数
  - 基数、矩阵、向量、比例

### 🧮 基础计算功能
- **四则运算**: 加法、减法、乘法、除法
- **连续计算**: 支持连续进行多个运算
- **小数点**: 支持小数计算
- **正负号切换**: 一键切换正负数
- **百分比**: 快速计算百分比
- **清除功能**: AC键清除所有数据

### 🔬 科学计算功能
- **三角函数**: sin、cos、tan（角度制）
- **反三角函数**: sin⁻¹、cos⁻¹、tan⁻¹
- **对数函数**: log（常用对数）、ln（自然对数）
- **指数函数**: 10ˣ、eˣ
- **幂运算**: x²（平方）、x³（立方）
- **开方**: √（平方根）
- **倒数**: 1/x（倒数计算）
- **阶乘**: x!（阶乘计算）

### 💾 内存功能
- **M+**: 内存加法
- **M-**: 内存减法
- **MR**: 内存读取
- **MC**: 内存清除
- **内存指示器**: 显示内存状态

### 🎮 导航系统
- **SHIFT键**: 激活第二功能
- **方向键**: ▲▼◀▶ 四向导航
- **EXIT键**: 返回主屏幕
- **状态指示**: SHIFT状态显示

### 🔲 空白键功能
- **空分之空键**: □/□ 创建空白分数
- **光标导航**: 在空白位置使用方向键移动
- **数字输入**: 在光标位置输入数字
- **分数构建**: 动态构建分数表达式
- **完整计算**: 分数可以参与所有计算操作
- **光标切换**: 使用方向键在分子分母间切换

### 🎨 界面设计
- **固定键盘布局**: 键盘布局不变，适应所有功能
- **LCD屏幕**: 绿色LED显示效果，模拟真实计算器
- **模式图标**: 屏幕顶部显示当前模式图标
- **屏幕菜单**: 主菜单在屏幕上显示，不在键盘上
- **Shift功能**: 黄色字体显示第二功能
- **多行显示**: 支持运算历史和状态显示

### 📱 用户体验
- **专业显示**: 等宽字体，清晰易读
- **科学记数法**: 自动处理大数和小数
- **错误处理**: 防止除零等错误操作
- **响应式设计**: 适配不同屏幕尺寸
- **模式切换**: 流畅的模块间导航

### 🖥️ 显示系统
- **闪烁光标**: 屏幕显示闪烁的 | 光标
- **完整表达式**: 所有输入都显示在屏幕上
- **延迟计算**: 按 = 键才计算结果
- **实时显示**: 输入过程中实时显示表达式

## 界面布局

### 屏幕显示
```
┌─────────────────────────────────┐
│ M    SHIFT    [模式图标] DEG    │
│ 123.456789                      │
│ 45.67 +                         │
└─────────────────────────────────┘
```

### 主屏幕显示
```
┌─────────────────────────────────┐
│ M    SHIFT    [🏠] DEG          │
│ 选择功能模式                    │
│ 1. 计算 (CALC)                  │
│ 2. 统计 (STAT)                  │
│ 3. 函数表格 (TABLE)             │
│ 4. 方程 (EQN)                   │
│ 5. 不等式 (INEQ)                │
└─────────────────────────────────┘
```

### 固定键盘布局
```
┌─────┬─────┬─────┬─────┬─────┐
│ M+  │ M-  │ MR  │ MC  │SHIFT│
├─────┼─────┼─────┼─────┼─────┤
│sin⁻¹│cos⁻¹│tan⁻¹│  ÷  │MODE │
│ sin │ cos │ tan │     │     │
├─────┼─────┼─────┼─────┼─────┤
│10ˣ  │eˣ   │√x   │  ×  │OPTN │
│ log │ ln  │ x²  │     │     │
├─────┼─────┼─────┼─────┼─────┤
│x³   │x!   │  %  │  -  │SETUP│
│  √  │ 1/x │     │     │     │
├─────┼─────┼─────┼─────┼─────┤
│  7  │  8  │  9  │  +  │ ▲   │
├─────┼─────┼─────┼─────┤◀▶  │
│  4  │  5  │  6  │  =  │ ▼   │
├─────┼─────┼─────┼─────┼─────┤
│  1  │  2  │  3  │□/□  │EXIT │
├─────┼─────┼─────┼─────┤     │
│  0  │  .  │+/- │ AC  │     │
└─────┴─────┴─────┴─────┴─────┘
```

## 模式图标说明

- **计算模式**: ➕➖ (蓝色)
- **统计模式**: 📊 (紫色)
- **函数模式**: ƒ (绿色)
- **方程模式**: ⚖️ (橙色)
- **不等式模式**: > (红色)
- **复数模式**: 🔢 (青色)
- **基数模式**: 🔢 (粉色)
- **矩阵模式**: 📐 (靛蓝)
- **向量模式**: ↗️ (薄荷绿)
- **比例模式**: % (棕色)
- **主屏幕**: 🏠 (白色)

## 空白键使用说明

1. **创建空白分数**: 按 `□/□` 键
2. **移动光标**: 使用方向键 ▲▼◀▶
3. **输入数字**: 在光标位置按数字键
4. **构建分数**: 动态构建如 `3/4` 的分数

## 技术特点

- **SwiftUI**: 使用最新的SwiftUI框架
- **响应式编程**: 基于状态管理的响应式UI
- **固定布局**: 键盘布局适应所有功能模块
- **组件化设计**: 可复用的按钮组件
- **类型安全**: 使用枚举确保操作类型安全
- **数学库**: 集成Foundation数学函数
- **状态管理**: 完善的视图状态管理
- **光标系统**: 支持光标定位和导航

## 使用方法

1. 在Xcode中打开项目
2. 选择目标设备或模拟器
3. 点击运行按钮启动应用
4. 默认进入计算模式
5. 按 `MODE` 键进入主屏幕
6. 使用数字键选择功能模块
7. 使用 `□/□` 键创建空白分数
8. 使用方向键进行导航
9. 使用SHIFT键激活第二功能
10. 享受专业的科学计算体验！

## 系统要求

- iOS 15.0+
- Xcode 13.0+
- Swift 5.5+

## 开发信息

- **开发语言**: Swift
- **框架**: SwiftUI
- **最低支持版本**: iOS 15.0
- **开发工具**: Xcode
- **设计参考**: 卡西欧fx-991CN CW
- **架构模式**: 固定键盘布局设计

---

享受您的专业模块化计算器体验！ 🚀 